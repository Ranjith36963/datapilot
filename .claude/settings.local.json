{
  "env": {
    "CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS": "1"
  },
  "permissions": {
    "allow": [
      "Bash(docker:*)",
      "Bash(where:*)",
      "Bash(node --version:*)",
      "Bash(\"C:\\\\Users\\\\Ranjith\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python313\\\\python.exe\" --version)",
      "Bash(ollama:*)",
      "Bash(npm --version:*)",
      "Bash(\"C:\\\\Program Files\\\\Docker\\\\Docker\\\\resources\\\\bin\\\\docker.exe\" --version)",
      "Bash(\"C:\\\\Program Files\\\\Docker\\\\Docker\\\\resources\\\\bin\\\\docker.exe\" compose version)",
      "Bash(\"C:\\\\Program Files\\\\Docker\\\\Docker\\\\resources\\\\bin\\\\docker.exe\" compose up --build)",
      "Bash(\"C:\\\\Program Files\\\\Docker\\\\Docker\\\\resources\\\\bin\\\\docker.exe\" info:*)",
      "Bash(\"C:\\\\Program Files\\\\Docker\\\\Docker\\\\resources\\\\bin\\\\docker.exe\" run --rm python:3.12-slim nslookup pypi.org)",
      "Bash(\"C:\\\\Program Files\\\\Docker\\\\Docker\\\\resources\\\\bin\\\\docker.exe\" run --rm --dns 8.8.8.8 python:3.12-slim python -c \"import urllib.request; urllib.request.urlopen\\(''https://pypi.org'', timeout=5\\); print\\(''DNS OK''\\)\")",
      "Bash(net stop:*)",
      "Bash(net start:*)",
      "Bash(curl:*)",
      "Bash(python -m json.tool:*)",
      "Bash(pip install:*)",
      "Bash(npm install:*)",
      "Bash(uvicorn app.main:app:*)",
      "Bash(npm run dev:*)",
      "Bash(python:*)",
      "Bash(npm run build:*)",
      "Bash(npm ls:*)",
      "Bash(node -e:*)",
      "Bash(git stash:*)",
      "Bash(npx tsc:*)",
      "Bash(pip show:*)",
      "Bash(npx next build:*)",
      "Bash(wc:*)",
      "Bash(find:*)",
      "Bash(more:*)",
      "mcp__sequential-thinking__sequentialthinking",
      "mcp__playwright__browser_wait_for",
      "Bash(claude mcp add:*)",
      "Bash(claude mcp remove:*)",
      "Bash(git -C C:\\\\Users\\\\Ranjith\\\\datapilot status:*)",
      "Bash(test:*)",
      "Bash(ls -la \"C:\\\\Users\\\\Ranjith\\\\datapilot\\\\engine\\\\datapilot\\\\llm\"\" | grep -E \"failover)",
      "Bash(gemini \")",
      "Bash(backend\\\\.venv\\\\Scripts\\\\pip install:*)",
      "Bash(C:UsersRanjithdatapilotbackend.venvScriptspip install google-genai)",
      "Bash(\"C:/Users/Ranjith/datapilot/backend/.venv/Scripts/pip.exe\" install google-genai)",
      "Bash(\"C:/Users/Ranjith/datapilot/backend/.venv/Scripts/python.exe\" -c \"import py_compile; py_compile.compile\\(''C:/Users/Ranjith/datapilot/engine/datapilot/llm/gemini.py'', doraise=True\\); print\\(''gemini.py OK''\\)\")",
      "Bash(\"C:/Users/Ranjith/datapilot/backend/.venv/Scripts/python.exe\" -c \"import py_compile; py_compile.compile\\(''C:/Users/Ranjith/datapilot/engine/datapilot/llm/failover.py'', doraise=True\\); print\\(''failover.py OK''\\)\")",
      "Bash(\"C:/Users/Ranjith/datapilot/backend/.venv/Scripts/python.exe\" -m pytest tests/ -v)",
      "Bash(\"C:/Users/Ranjith/datapilot/backend/.venv/Scripts/python.exe\" -m pytest tests/unit/test_gemini_provider.py -v)",
      "Bash(\"C:/Users/Ranjith/datapilot/backend/.venv/Scripts/python.exe\" -c:*)",
      "Bash(PYTHONPATH=engine \"C:/Users/Ranjith/datapilot/backend/.venv/Scripts/python.exe\":*)",
      "Bash(pushd:*)",
      "Bash(popd:*)",
      "Bash(git -C C:UsersRanjithdatapilot diff --stat)",
      "Bash(dir:*)",
      "Bash(Remove-Item -Recurse -Force .next)",
      "Bash(powershell -Command \"cd 'C:\\\\Users\\\\Ranjith\\\\datapilot\\\\frontend'; Remove-Item -Recurse -Force .next; npm run build\":*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(powershell -Command \"cd ''C:\\\\Users\\\\Ranjith\\\\datapilot\\\\frontend''; if \\(Test-Path .next\\) { Remove-Item -Recurse -Force .next }; npm run build 2>&1\")",
      "Bash(powershell -Command \"cd 'C:\\\\Users\\\\Ranjith\\\\datapilot'; python -m pytest tests/ -v 2>&1\":*)",
      "Bash(powershell -Command:*)",
      "Bash(git -C \"C:\\\\Users\\\\Ranjith\\\\datapilot\" diff)",
      "Bash(git -C \"C:\\\\Users\\\\Ranjith\\\\datapilot\" log --oneline -5)",
      "Bash(git -C \"C:\\\\Users\\\\Ranjith\\\\datapilot\" add -A)",
      "Bash(git -C \"C:\\\\Users\\\\Ranjith\\\\datapilot\" commit -m \"$\\(cat <<''EOF''\nfeat: complete D2 — full session persistence across refresh and restart\n\nThree bugs fixed to make all 23 persistence tests pass \\(TDD green phase\\):\n\n1. Single-project invariant: persist_new_session now calls\n   delete_all_except\\(\\) to remove old sessions from SQLite when a new\n   dataset is uploaded \\(new SessionStore.delete_all_except method\\).\n\n2. History merge on restore: persist_history now prepends\n   _restored_history \\(from SQLite\\) before new engine entries, preventing\n   overwrite of old history when analyst.history is empty after restore.\n\n3. Concurrent isolation test adapted to use store-level creation\n   \\(bypassing SessionManager''s single-project enforcement\\) since it\n   tests SQLite row isolation, not upload workflow.\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(session · Re-ask for full details\" label that pre-fills the question.\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")"
    ]
  },
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Write|Edit",
        "hooks": [
          {
            "type": "command",
            "command": "bash -c '[[ \"$CLAUDE_FILE_PATHS\" =~ \\.py$ ]] && black $CLAUDE_FILE_PATHS && ruff check --fix $CLAUDE_FILE_PATHS 2>/dev/null || true'"
          }
        ]
      },
      {
        "matcher": "Write|Edit",
        "hooks": [
          {
            "type": "command",
            "command": "bash -c '[[ \"$CLAUDE_FILE_PATHS\" =~ \\.(ts|tsx)$ ]] && npx prettier --write $CLAUDE_FILE_PATHS 2>/dev/null || true'"
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "python -m pytest tests/ -x --tb=short -q"
          }
        ]
      }
    ]
  }
}
